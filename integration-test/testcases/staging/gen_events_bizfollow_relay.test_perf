#!/bin/bash
# simple bizfollow generation test

export TEST_NAME=gen_events_bizfollow_relay.test_perf

source setup_env.inc

#***************************************************************************************************************************************
#all ${ALL_CAPS} type vars come from setup_env.inc(except TEST_NAME)...check that file first before introducing any new variables here
#***************************************************************************************************************************************
relay_port=${RELAY_PORT_BASE}
bootstrap_producer_port=${BOOTSTRAP_PRODUCER_PORT_BASE}
bootstrap_server_port=${BOOTSTRAP_SERVER_PORT_BASE}
client_port=${CLIENT_PORT_BASE}

relay_event_dump_file=${WORK_DIR_FROM_ROOT}/bizfollow_relay_event_trace
relay_gc_file=${WORK_DIR_FROM_ROOT}/bizfollow_relay_gc.log

# generate events
$SCRIPT_DIR/dbus2_gen_event.py -e 5000 -s 20,21 --num_events=200000 --keyMin=0 --keyMax=9999999 --server_port=${relay_port}

