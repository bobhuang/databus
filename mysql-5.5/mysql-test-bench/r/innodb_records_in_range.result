use test;
create table t1(id int not null primary key) engine=innodb;
flush status;
show status like 'Innodb_buffer_%';
Variable_name	Value
Innodb_buffer_pool_pages_data	148
Innodb_buffer_pool_pages_dirty	15
Innodb_buffer_pool_pages_flushed	0
Innodb_buffer_pool_pages_free	362
Innodb_buffer_pool_pages_misc	1
Innodb_buffer_pool_pages_total	511
Innodb_buffer_pool_read_ahead	0
Innodb_buffer_pool_read_ahead_evicted	0
Innodb_buffer_pool_read_requests	4607
Innodb_buffer_pool_reads	145
Innodb_buffer_pool_wait_free	0
Innodb_buffer_pool_write_requests	2060
explain select * from t1 where id >= 300 and id < 400;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	SIMPLE	t1	range	PRIMARY	PRIMARY	4	NULL	99	Using where; Using index
set innodb_records_in_range=40;
show status like 'Innodb_buffer_%';
Variable_name	Value
Innodb_buffer_pool_pages_data	148
Innodb_buffer_pool_pages_dirty	15
Innodb_buffer_pool_pages_flushed	0
Innodb_buffer_pool_pages_free	362
Innodb_buffer_pool_pages_misc	1
Innodb_buffer_pool_pages_total	511
Innodb_buffer_pool_read_ahead	0
Innodb_buffer_pool_read_ahead_evicted	0
Innodb_buffer_pool_read_requests	4611
Innodb_buffer_pool_reads	145
Innodb_buffer_pool_wait_free	0
Innodb_buffer_pool_write_requests	2060
explain select * from t1 where id >= 300 and id < 400;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	SIMPLE	t1	range	PRIMARY	PRIMARY	4	NULL	40	Using where; Using index
show status like 'Innodb_buffer_%';
Variable_name	Value
Innodb_buffer_pool_pages_data	148
Innodb_buffer_pool_pages_dirty	15
Innodb_buffer_pool_pages_flushed	0
Innodb_buffer_pool_pages_free	362
Innodb_buffer_pool_pages_misc	1
Innodb_buffer_pool_pages_total	511
Innodb_buffer_pool_read_ahead	0
Innodb_buffer_pool_read_ahead_evicted	0
Innodb_buffer_pool_read_requests	4611
Innodb_buffer_pool_reads	145
Innodb_buffer_pool_wait_free	0
Innodb_buffer_pool_write_requests	2060
select count(*) from t1 where id >= 300 and id < 400;
count(*)
100
show status like 'Innodb_buffer_%';
Variable_name	Value
Innodb_buffer_pool_pages_data	148
Innodb_buffer_pool_pages_dirty	15
Innodb_buffer_pool_pages_flushed	0
Innodb_buffer_pool_pages_free	362
Innodb_buffer_pool_pages_misc	1
Innodb_buffer_pool_pages_total	511
Innodb_buffer_pool_read_ahead	0
Innodb_buffer_pool_read_ahead_evicted	0
Innodb_buffer_pool_read_requests	4629
Innodb_buffer_pool_reads	145
Innodb_buffer_pool_wait_free	0
Innodb_buffer_pool_write_requests	2060
set innodb_records_in_range=0;
select count(*) from t1 where id >= 300 and id < 400;
count(*)
100
show status like 'Innodb_buffer_%';
Variable_name	Value
Innodb_buffer_pool_pages_data	148
Innodb_buffer_pool_pages_dirty	15
Innodb_buffer_pool_pages_flushed	0
Innodb_buffer_pool_pages_free	362
Innodb_buffer_pool_pages_misc	1
Innodb_buffer_pool_pages_total	511
Innodb_buffer_pool_read_ahead	0
Innodb_buffer_pool_read_ahead_evicted	0
Innodb_buffer_pool_read_requests	4651
Innodb_buffer_pool_reads	145
Innodb_buffer_pool_wait_free	0
Innodb_buffer_pool_write_requests	2060
drop table t1;
